# Crontab jobs used by the MARSfarm mini
# Author: Howard Webb
# Date: 11/13/2017
# Warning: This will overwrite any existing crontab, do not use if you use cron for other purposes

#Modified by: Jackie Zhong(zy99120@gmail.com)
#Modified by: Tyler Richards(richardstylerj20@gmail.com)

# Don't send email
MAILTO=""

# Path to the MarsFarmMini python logging code
PY_PATH=/home/pi/Desktop/MarsFarmMini/python

# Path to the MarsFarmMini scripts
MINI_SCRIPTS=/home/pi/Desktop/MarsFarmMini/scripts

# Cron output log
CRON_LOG=/home/pi/Desktop/MarsFarmMini/logs/cron.log

# m h  dom mon dow   command

# Log sensors interval
0 * * * * $MINI_SCRIPTS/LogData.sh >> $CRON_LOG 2>&1

# Image taking control
5 * * * * $MINI_SCRIPTS/Webcam.sh >> $CRON_LOG 2>&1

# upload image taken to amazon S3
10 * * * * $MINI_SCRIPTS/S3.sh >> $CRON_LOG 2>&1

# Check lights
* * * * * python3 $PY_PATH/Light_Control.py

#Check heater every 10 seconds
* * * * * for i in {1..5}; do python3 $PY_PATH/Thermostat.py & sleep 10; done

# Start pigpio service at reboot
@reboot python3 $PY_PATH/boot_script.py

# Set up MAC address
@reboot sudo ifconfig eth0 down; sudo macchanger --mac=66:d0:72:62:31:25 eth0; sudo ifconfig eth0 up

# Start listening to MQTT
@reboot python3 $PY_PATH/pythonmqqtsub_savetrial.py








